<form
  [formGroup]="artistForm"
  (ngSubmit)="onSubmit()"
  class="max-w-lg mx-auto p-6 bg-primary-50 dark:bg-primary-800 rounded-2xl shadow-md space-y-6"
>
  <!-- NAME -->
  <div>
    <label class="block text-text dark:text-primary-50 font-semibold mb-2"
      >Name</label
    >
    <input
      type="text"
      formControlName="name"
      placeholder="Name"
      class="w-full rounded-xl px-4 py-2 bg-primary-100 dark:bg-primary-700 text-text dark:text-primary-50 border border-primary-300 dark:border-primary-600 focus:outline-none focus:ring focus:ring-primary-300"
    />
    <p
      *ngIf="artistForm.get('name')?.touched && artistForm.get('name')?.invalid"
      class="text-red-500 text-sm mt-1"
    >
      Name is required.
    </p>
  </div>

  <!-- BIOGRAPHY -->
  <div>
    <label class="block text-text dark:text-primary-50 font-semibold mb-2"
      >Biography</label
    >
    <textarea
      rows="4"
      formControlName="biography"
      placeholder="Biography"
      class="w-full rounded-xl px-4 py-2 bg-primary-100 dark:bg-primary-700 text-text dark:text-primary-50 border border-primary-300 dark:border-primary-600 focus:outline-none focus:ring focus:ring-primary-300"
    ></textarea>
    <p
      *ngIf="
        artistForm.get('biography')?.touched &&
        artistForm.get('biography')?.invalid
      "
      class="text-red-500 text-sm mt-1"
    >
      Biography is required.
    </p>
  </div>

  <!-- GENRES -->
  <div formArrayName="genres">
    <label class="block text-text dark:text-primary-50 font-semibold mb-2"
      >Genres</label
    >
    <div *ngFor="let genreCtrl of genresFormArray.controls; let i = index">
      <label class="flex items-center space-x-2">
        <input type="checkbox" [formControlName]="i" class="rounded" />
        <span class="text-white dark:text-primary-50">{{
          genres[i].name
        }}</span>
      </label>
    </div>

    <p
      *ngIf="genresFormArray.touched && genresFormArray.errors?.['required']"
      class="text-red-500 text-sm mt-1"
    >
      Please select at least one genre.
    </p>
  </div>

  <!-- SUBMIT -->
  <button
    type="submit"
    [disabled]="artistForm.invalid || waitingResponse"
    class="w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 disabled:bg-gray-400 disabled:text-gray-200 disabled:cursor-not-allowed"
  >
    {{ waitingResponse ? "Creating..." : "Create" }}
  </button>
</form>
