<section class="bg-primary-50 dark:bg-primary-900 text-text min-h-screen flex items-center justify-center px-6 py-8 overflow-y-auto">
  <div class="w-full sm:max-w-md rounded-lg shadow border border-primary-300 dark:border-primary-700 bg-primary-100 dark:bg-primary-800">
    <div class="p-6 space-y-4 md:space-y-6 sm:p-8">
      <h1 class="text-xl md:text-2xl font-bold leading-tight tracking-tight text-text dark:text-primary-50">
        Create an account
      </h1>

      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6" novalidate>
        <!-- FIRST NAME -->
        <div class="mb-4">
          <label for="firstName" class="block mb-1 text-sm font-medium text-text dark:text-primary-50">
            First name
          </label>
          <input
            type="text"
            id="firstName"
            formControlName="firstName"
            placeholder="Enter your first name"
            required
            class="bg-primary-50 border border-primary-300 text-primary-900 rounded-lg
                          focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5
                          dark:bg-primary-700 dark:border-primary-600 dark:placeholder-primary-300
                          dark:text-primary-50 dark:focus:ring-primary-400 dark:focus:border-primary-400"
          />
          <p *ngIf="firstName?.invalid && (firstName?.dirty || firstName?.touched)"
             class="mt-1 text-xs text-red-500">
            First name is required.
          </p>
        </div>


        <!-- LAST NAME -->
        <div class="mb-4">
          <label for="lastName" class="block mb-1 text-sm font-medium text-text dark:text-primary-50">
            Last name
          </label>
          <input
            type="text"
            id="lastName"
            formControlName="lastName"
            placeholder="Enter your last name"
            required
            class="bg-primary-50 border border-primary-300 text-primary-900 rounded-lg
           focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5
           dark:bg-primary-700 dark:border-primary-600 dark:placeholder-primary-300
           dark:text-primary-50 dark:focus:ring-primary-400 dark:focus:border-primary-400"
          />
          <p *ngIf="lastName?.invalid && (lastName?.dirty || lastName?.touched)"
             class="mt-1 text-xs text-red-500">
            Last name is required.
          </p>
        </div>


        <!-- USERNAME -->
        <div class="mb-4">
          <label for="username" class="block mb-1 text-sm font-medium text-text dark:text-primary-50">
            Username
          </label>
          <input
            type="text"
            id="username"
            formControlName="username"
            placeholder="Enter your username"
            required
            class="bg-primary-50 border border-primary-300 text-primary-900 rounded-lg
           focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5
           dark:bg-primary-700 dark:border-primary-600 dark:placeholder-primary-300
           dark:text-primary-50 dark:focus:ring-primary-400 dark:focus:border-primary-400"
          />
          <p *ngIf="username?.invalid && (username?.dirty || username?.touched)"
             class="mt-1 text-xs text-red-500">
            Username is required.
          </p>
        </div>


        <!-- DATE OF BIRTH -->
        <div class="mb-4">
          <label for="dateOfBirth" class="block mb-1 text-sm font-medium text-text dark:text-primary-50">
            Date of birth
          </label>
          <input
            type="date"
            id="dateOfBirth"
            formControlName="dateOfBirth"
            placeholder="YYYY-MM-DD"
            required
            class="bg-primary-50 border border-primary-300 text-primary-900 rounded-lg
           focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 text-sm
           dark:bg-primary-700 dark:border-primary-600 dark:placeholder-primary-300
           dark:text-primary-50 dark:focus:ring-primary-400 dark:focus:border-primary-400"
          />
          <p *ngIf="dateOfBirth?.invalid && (dateOfBirth?.dirty || dateOfBirth?.touched)"
             class="mt-1 text-xs text-red-500">
            Date of birth is required.
          </p>
        </div>


        <!-- EMAIL -->
        <div class="mb-4">
          <label for="email" class="block mb-1 text-sm font-medium text-text dark:text-primary-50">
            Email
          </label>
          <input
            type="email"
            id="email"
            formControlName="email"
            placeholder="Enter your email"
            required
            class="bg-primary-50 border border-primary-300 text-primary-900 rounded-lg
           focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5
           dark:bg-primary-700 dark:border-primary-600 dark:placeholder-primary-300
           dark:text-primary-50 dark:focus:ring-primary-400 dark:focus:border-primary-400"
          />
          <p *ngIf="email?.errors?.['required'] && (email?.dirty || email?.touched)"
             class="mt-1 text-xs text-red-500">
            Email is required.
          </p>
          <p *ngIf="email?.errors?.['email'] && (email?.dirty || email?.touched)" class="mt-1 text-xs text-red-500">Enter a valid email.</p>
        </div>

        <!-- PASSWORD -->
        <div class="mb-4">
          <label for="password" class="block mb-1 text-sm font-medium text-text dark:text-primary-50">
            Password
          </label>
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            formControlName="password"
            placeholder="Enter your password"
            required
            class="bg-primary-50 border border-primary-300 text-primary-900 rounded-lg
           focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5
           dark:bg-primary-700 dark:border-primary-600 dark:placeholder-primary-300
           dark:text-primary-50 dark:focus:ring-primary-400 dark:focus:border-primary-400"
          />
          <p *ngIf="password?.invalid && password?.touched" class="text-red-500 text-sm mt-1">
            <span *ngIf="password?.errors?.['required'] && (password?.touched || password?.dirty)">Password is required.</span>
            <span *ngIf="password?.errors?.['invalidPassword'] && (password?.touched || password?.dirty)">
              Password must contain at least one uppercase letter, one number, and one special character.
            </span>
          </p>

        </div>

        <!-- CONFIRM PASSWORD -->
        <div class="mb-4">
          <label for="confirmPassword" class="block mb-1 text-sm font-medium text-text dark:text-primary-50">
            Confirm Password
          </label>
          <input
            [type]="showConfirmPassword ? 'text' : 'password'"
            id="confirmPassword"
            formControlName="confirmPassword"
            placeholder="Confirm your password"
            required
            class="bg-primary-50 border border-primary-300 text-primary-900 rounded-lg
           focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5
           dark:bg-primary-700 dark:border-primary-600 dark:placeholder-primary-300
           dark:text-primary-50 dark:focus:ring-primary-400 dark:focus:border-primary-400"
          />
          <p *ngIf="confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched)"
             class="mt-1 text-xs text-red-500">
            <span *ngIf="confirmPassword?.errors?.['required']">Confirm password is required.</span>
            <span *ngIf="confirmPassword?.errors?.['passwordMismatch']">
              Passwords do not match.
            </span>
                    <span *ngIf="confirmPassword?.errors?.['invalidPassword']">
              Password must contain at least one uppercase letter, one number, and one special character.
            </span>
          </p>
        </div>



        <!-- SUBMIT -->
        <button
          type="submit"
          [disabled]="form.invalid || waitingResponse"
          class="w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none
         focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center
         dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800
         disabled:bg-gray-400 disabled:text-gray-200 disabled:cursor-not-allowed"
        >
          {{ waitingResponse ? 'Creating account...' : 'Create an account' }}
        </button>

        <p *ngIf="errorMessage" class="text-red-500 text-sm text-center">
          {{ errorMessage }}
        </p>

        <p class="text-sm font-light text-text dark:text-primary-200 text-center mt-2">
          Already have an account?
          <a routerLink="/login" class="font-medium text-primary-600 hover:text-primary-400 underline dark:text-primary-300 dark:hover:text-primary-200">
            Login here
          </a>
        </p>
      </form>
    </div>
  </div>
</section>
