<div *ngIf="currentTrack$ | async as track"
     class="fixed transition bottom-4 left-1/2 transform -translate-x-1/2 min-w-md max-w-lg  bg-linear-to-r from-secondary-500 to-secondary-500 rounded-lg shadow-lg flex items-center justify-between p-4 space-x-4">

  <!-- Song Info -->
  <div class="flex flex-col overflow-hidden">
    <span class="text-md font-medium text-text-200 truncate">{{ track.name }}</span>
    <span class="text-sm text-text-500 truncate">{{ track.performerName }}</span>
  </div>

  <!-- Controls -->
  <div class="flex items-center space-x-2">
    <button id="backBtn"
            class="w-9 h-9 flex items-center justify-center bg-secondary-500 hover:bg-primary-600 rounded-full text-text transition">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M21 16.811c0 .864-.933 1.406-1.683.977l-7.108-4.061a1.125 1.125 0 0 1 0-1.954l7.108-4.061A1.125 1.125 0 0 1 21 8.689v8.122ZM11.25 16.811c0 .864-.933 1.406-1.683.977l-7.108-4.061a1.125 1.125 0 0 1 0-1.954l7.108-4.061a1.125 1.125 0 0 1 1.683.977v8.122Z" />
      </svg>


    </button>
    <!-- Play Button -->
    <button id="playBtn" [ngClass]="{'hidden' : (isPlaying$ | async)}" (click)="resumeAudio()"
            class="w-10 h-10 flex items-center justify-center bg-primary-800 hover:bg-primary-700 rounded-full text-text transition">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
           class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"/>
      </svg>

    </button>

    <!-- Pause Button -->
    <button id="pauseBtn" [ngClass]="{'hidden' : !(isPlaying$ | async)}" (click)="pauseAudio()"
            class="w-10 h-10 flex items-center justify-center bg-primary-800 hover:bg-primary-700 rounded-full text-text transition hidden">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
           class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25v13.5m-7.5-13.5v13.5"/>
      </svg>

    </button>
    <button id="forwardBtn"
            class="w-9 h-9 flex items-center justify-center bg-secondary-500 hover:bg-primary-600 rounded-full text-text transition">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 8.689c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 0 1 0 1.954l-7.108 4.061A1.125 1.125 0 0 1 3 16.811V8.69ZM12.75 8.689c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 0 1 0 1.954l-7.108 4.061a1.125 1.125 0 0 1-1.683-.977V8.69Z" />
      </svg>

    </button>

  </div>
  <button id="stopBtn" (click)="stopAudio()"
          class="w-10 h-10 flex items-center justify-center bg-primary-800 hover:bg-primary-700 rounded-full text-white transition">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
         class="size-6">
      <path stroke-linecap="round" stroke-linejoin="round"
            d="M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"/>
    </svg>

  </button>
</div>

<script>
  const playBtn = document.getElementById('playBtn');
  const pauseBtn = document.getElementById('pauseBtn');

  playBtn.addEventListener('click', () => {
    playBtn.classList.add('hidden');
    pauseBtn.classList.remove('hidden');
    // Add audio play logic here
  });

  pauseBtn.addEventListener('click', () => {
    pauseBtn.classList.add('hidden');
    playBtn.classList.remove('hidden');
    // Add audio pause logic here
  });
</script>
